<script lang="ts">
    import { uuid_v4 } from '#/util/data';
	import { scale } from "svelte/transition";


	export let sx_body = '#d4ad00';

	let si_svg = `ledger-nano-s_${uuid_v4().slice(-8)}`;

	const H_DIMS = {
		closed: [326, 99],
		open: [560, 335],
	};

	const a_screen_center = [129.5, 52.5];
</script>

<svg id={si_svg} xmlns="http://www.w3.org/2000/svg" width="326" height="99" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 326 99">
	<style>
		#{si_svg} .device {
			transform: scale(1);
			transition: transform var(--ease-in-out-cubic);
		}
		
		#{si_svg} .device.zoom {
			transform: scale(3.5) translate(40px, 25px);
		}

		#{si_svg} .cover-logo>* {
			fill: #ccc;
		}

		#{si_svg} .body-color {
			fill: {sx_body};
		}

		#{si_svg} .screen {
			fill: #000;
		}

		#{si_svg} .cover {
			transform-origin: 276.75px 52.1px;
			transform: rotate(0deg);
			transition: transform cubic-bezier(0.8, -0.2, 0, 1) 1s;
		}

		#{si_svg} .cover.open {
			transform: rotate(-143deg);
		}
	</style>
	<defs>
		<linearGradient id="b" x1="-.59" y1="7.81" x2="298.37" y2="104.95" gradientUnits="userSpaceOnUse">
			<stop offset="0" stop-color="#b3b3b3"/>
			<stop offset=".65" stop-color="#999"/>
			<stop offset="1" stop-color="#ccc"/>
		</linearGradient>
	</defs>
	<g class="device">
		<g class="body">
			<g class="buttons">
				<path class="left-button body-color" d="m87.79,0h-34.27l-1.44,1.57v4.43h37.15V1.57l-1.44-1.57Z"/>
				<path class="right-button body-color" d="m211.13,0h-34.27l-1.44,1.57v4.43h37.15V1.57l-1.44-1.57Z"/>
			</g>
			<path class="body-chassis body-color" d="m13,6v93h313V6H13Zm263.75,67.35c-11.74,0-21.25-9.51-21.25-21.25s9.51-21.25,21.25-21.25,21.25,9.51,21.25,21.25-9.51,21.25-21.25,21.25Z"/>
			<rect class="screen" x="62" y="32" width="135" height="41"/>
		</g>
		<g class="cover">
			<path class="cover-chassis" d="M266.5,6H7c-3.9,0-7,3.1-7,7v79c0,3.9,3.1,7,7,7h259.5c25.7,0,46.5-20.8,46.5-46.5l0,0 C313,26.8,292.2,6,266.5,6z M276.5,78.5C261.9,78.5,250,66.6,250,52s11.9-26.5,26.5-26.5S303,37.4,303,52S291.1,78.5,276.5,78.5z" style="fill:url(#b);"/>
			<g class="cover-logo">
				<rect x="23.56" y="48.51" width="7.32" height="7.32"/>
				<rect x="34.4" y="59.35" width="7.32" height="7.03"/>
				<path d="m47.58,37.97h-13.18v17.87h17.87v-13.18c0-2.59-2.1-4.69-4.69-4.69Z"/>
				<path d="m23.56,61.69c0,2.59,2.1,4.69,4.69,4.69h2.63v-7.03h-7.32v2.34Z"/>
				<path d="m45.24,66.38h2.34c2.59,0,4.69-2.1,4.69-4.69v-2.34h-7.03v7.03Z"/>
				<path d="m23.56,42.65v2.34h7.32v-7.03h-2.63c-2.59,0-4.69,2.1-4.69,4.69Z"/>
				<polygon points="69.44 39.46 67.02 39.46 67.02 64.58 80.85 64.58 80.85 62.36 69.44 62.36 69.44 39.46"/>
				<path d="m89.22,46.18c-4.76,0-8.68,3.54-8.68,9.43,0,5.54,3.96,9.4,9.21,9.4,3.96,0,6.51-2.5,6.51-2.5l-1.09-1.86s-2.14,2.18-5.36,2.18c-3.64,0-6.72-2.5-6.83-7.11h13.52s.07-.82.07-1.25c0-4.47-2.49-8.29-7.35-8.29Zm-6.13,7.54c.56-3.61,3.12-5.5,6.06-5.5,2.63,0,4.87,1.75,5.01,5.5h-11.06Z"/>
				<path d="m110.93,48.21c0,.75.07,1.36.07,1.36h-.07s-1.47-3.39-5.74-3.39c-4.62,0-7.91,3.72-7.91,9.4s2.94,9.43,7.67,9.43c4.62,0,6.06-3.61,6.06-3.61h.07s-.07.5-.07,1.29v1.89h2.31v-25.12h-2.38v8.75Zm-5.64,14.61c-3.29,0-5.57-2.82-5.57-7.25s2.56-7.22,5.67-7.22c3.78,0,5.6,3.57,5.6,7.22,0,5.11-2.77,7.25-5.71,7.25Z"/>
				<path d="m128.68,48.57c0,.39.04.61.04.61h-.07s-1.16-3-5.81-3c-4.73,0-7.63,3.68-7.63,9.08,0,5.39,3.12,9.22,7.84,9.22,2.73,0,4.52-1.14,5.57-3.14h.07s-.07.61-.07,1.29v1.64c0,4-2.73,5.65-6.16,5.65-2.59,0-4.76-1.25-4.76-1.25l-.91,2c1.72.89,3.75,1.43,5.78,1.43,4.31,0,8.44-2.22,8.44-7.93v-17.54h-2.31v1.97Zm-5.25,13.72c-3.5,0-5.78-2.79-5.78-7.07,0-4.29,2-6.82,5.43-6.82,3.12,0,5.57,1.61,5.57,6.86s-2.45,7.04-5.22,7.04Z"/>
				<path d="m141.5,46.18c-4.76,0-8.68,3.54-8.68,9.43,0,5.54,3.96,9.4,9.21,9.4,3.96,0,6.51-2.5,6.51-2.5l-1.09-1.86s-2.14,2.18-5.36,2.18c-3.64,0-6.72-2.5-6.83-7.11h13.52s.07-.82.07-1.25c0-4.47-2.49-8.29-7.35-8.29Zm-6.13,7.54c.56-3.61,3.12-5.5,6.06-5.5,2.63,0,4.87,1.75,5.01,5.5h-11.06Z"/>
				<path d="m158.62,46.43c-2.77,0-4.73,2.07-5.57,4.79h-.07s.07-.64.07-1.43v-3.18h-2.35v17.97h2.38v-7.57c0-1.14.14-2.36.49-3.5.77-2.64,2.63-4.64,5.11-4.64.46,0,.88.07.88.07v-2.39s-.46-.11-.95-.11Z"/>
			</g>
		</g>
	</g>
</svg>